<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name="viewport" content="height=device-height,width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap');
*, ::after, ::before {
    box-sizing: border-box;
}
body {
  margin: 0;
  padding: 0;
  font-family: 'Roboto', sans-serif;
  font-size: 14px;
  line-height: 1.4;
  width: 100%;
  min-height: 100vh;
  color: #4C4C4C;
}

.container {
  width: 100%;
  max-width: 1024px;
  margin-left: auto;
  margin-right: auto;
  overflow: hidden;
}

.hide { display: none!important; visibility: hidden;width: 0; height: 0;}

.not-allow {
  pointer-events: none;
}

.text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.text-center {
  text-align: center;
}

.text-right {
  text-align: right;
}

.mt-5 {
  margin-top: 5px!important;
}

.mt-15 {
  margin-top: 15px;
}

.mb-0 {
  margin-bottom: 0px!important;
}

.mb-15 {
  margin-bottom: 15px;
}

.p-15 {
  padding: 15px;
}
.fs-14 {
  font-size: 14px!important;
}
.fs-16 {
  font-size: 16px;
}
.fs-20 {
  font-size: 20px;
}

.f-bold {
  font-weight: bold;
}

.header-top {
  height: 48px;
}

.header-label {
  font-size: 16px;
  background-color: #CEEED8;
  color: #424040;
  text-align: center;
  padding: 7px 15px;
  height: 37px;
}

.header-title {
  margin-top: 15px;
  padding: 7px 15px;
  font-size: 18px;
  font-weight: bold;
  text-align: center;
}

.header-title span {
  display: block;
  color: #252525;
}

.banner  {
  margin-top: 15px;
}

.banner img {
  max-width: 100%;
}

.btn {
  display: inline-block;
  border-radius: 5px;
  text-align: center;
  line-height: initial;
  font-size: 16px;
  border: none;
  box-shadow: 0 4px 6px rgb(0 0 0 / 35%);
  padding: 6px 15px;
}

.btn--primary {
  background-color: #49A3E5;
  color: #EDEDED;
}

.btn--light {
  background-color: #F7F7F7;
  border: 1px solid #CEEED8;
}

.btn--success {
  background-color: #CEEED8;
}

.btn--error {
  background-color: #ea4025;
  color: #fff;
}

.btn--warning {
  background-color: #F09A37;
  color: #fff;
}

.btn--blue {
  background-color: #5DC1C9;
  color: #fff;
}

.btn--blue1 {
  background-color: #339AC3;
  color: #fff;
}

.btn--pink {
  background-color: #F787BF;
  color: #fff;
}

.btn--large {
  padding: 9px 15px;
}

.fixed-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 10;
  background-color: #fff;
}

.group-btn .btn {
  margin: 0 18px;
}

.btn-top {
  height: 48px;
  width: 48px;
  display: inline-block;
}

.btn-open {
  padding: 11px 7px;
}

.qs-item__top {
  padding: 30px 0;
}

.qs-number {
  width: 75px;
  height: 75px;
  border: 3px solid #A6DAB6;
  border-radius: 50%;
  font-size: 48px;
  color: #A6DAB6;
  line-height: 54px;
  text-align: center;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-left: auto;
  margin-right: auto;
}

.qs-item__body {
  padding: 0 15px;
}
.qs-question {
  font-weight: bold;
  font-size: 16px;
}
.qs-answer,
.qs-progress {
  padding: 15px;
}

.qs-answer__option {
  position: relative;
  margin-bottom: 15px;
}

.qs-answer__option.disabled {
  opacity: .8;
}

[type="radio"]:checked, [type="radio"]:not(:checked) {
  position: absolute;
  left: -9999px;
}

.qs-answer-item {
  position: relative;
  display: block;
  padding: 10px 20px;
  border: 1px solid #49A3E5;
  background-color: #FFFFFF;
  margin-bottom: 5px;
  border-radius: 7px;
  color: #49A3E5;
}

[type="radio"]:checked + label {
  background-color: #C1E2FC;
}

.qs-progress {
  position: relative;
}

.progress-bar-text {
  font-weight: bold;
  position: absolute;
  top: 0px
}

.progress-bar-text.left {
  left: 15px;
}

.progress-bar-text.right {
  right: 15px;
}

.progress-bar {
  margin-top: 10px;
  height: 10px;
  width: 100%;
  background-color : #E5E5E5
}

.progress-bar__inner {
  background-color: #A6DAB6;
  height: 100%;
  width: 0%;
}

.result-content {
  font-size: 14px;
  color: #252525;
  padding: 15px 0;
}

.result-content__img{
  max-width: 150px;
}

.tite-cate {
  font-weight: bold;
  font-size: 16px;
}

.content-item {
  padding: 5px 15px;
}

.content-item img {
  max-width: 80%;
}

.content-label  {
  text-align: center;
  font-weight: bold;
  padding: 20px;
  margin-bottom: 20px;
  font-size: 16px;
}

.content-label.blue {
  background-color: #DCF0FF;
  color: #0286E7;
}
.content-label.yellow {
  background-color: #FFF5C4;
  color: #FA8600;
}
.content-label.success {
  background-color: #E7FBED;
  color: #149B15;
}
.content-label.fs-small {
  font-size: 14px;
}
.result-button button {
  min-width: 262px;
}

.comment-item {
  display: flex;
  align-items: center;
  padding: 5px 15px;
}
.comment-item .comment__image {
  width: 100px;
}
.comment-item .comment__text {
  width: calc(100% - 100px);
  background-color: #E7FBED;
  padding: 15px 10px;
  border-radius: 25px;
}

.modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 0 15px;
  z-index: 1060;
  width: 100%;
  height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
  outline: 0;
  opacity: 1;
  transform: translateY(100vh);
  transition: all .5s;
}

.modal-dialog {
  max-width: 350px;
  margin: 165px auto auto;
  position: relative;
  width: auto;
  background-color: #FAFAFA;
  box-shadow: 0 4px 6px rgb(0 0 0 / 35%);
  border-radius: 15px;
}

.modal-body, .modal-footer {
  padding: 20px 15px;
}

.fadeinBottom {
  opacity: 1;
  transform: translateY(0);
  -webkit-transform: translateY(0);
  -o-transform: translateY(0);
  -moz-transform: translateY(0);
}

.anreer-anchor, 
.enneagram {
  display: flex;
  flex-direction: column;
}

.anreer-anchor {
  flex-direction: column-reverse !important;
}

  </style>
</head>
<body>
  <script type="text/javascript">
    (function (){
  window.resultPage = function(){}
  resultPage.prototype.init = function(response) {
    console.log(response)
    this.response = response;
    this.data = this.response.data;
    this.createUI();

  }

  resultPage.prototype.createUI = function () {
    var body = document.getElementsByTagName('body')[0];
    
    var container = document.createElement("div");
    container.className ="container";

    container.prepend(this.ComponentHeader("診断結果"), this.ComponentMain())
    body.prepend(container);
  }

  /**
 * create component Header
 * @returns HTML
 */
  resultPage.prototype.ComponentHeader = function(text) {
    var header = document.createElement("herder");
    header.className ="header-container";

    var headerTop =  document.createElement("div"),
    headerLabel = document.createElement("div");
    headerLabel.className = "header-label text-truncate";
    headerLabel.textContent = text || "";
  
    headerTop.className = "header-top";
    header.prepend(headerTop, headerLabel);

    return header;
  }

  resultPage.prototype.ComponentMain = function() {
    var main = document.createElement("section");
    main.className = "main-container"
  
    main.prepend(this.ComponentTitle(), this.ComponentContent());

    return main;
  }

  resultPage.prototype.ComponentTitle = function() { 
    var title = document.createElement("div");
    title.className = "header-title text-center text-truncate";
    
    var text = document.createElement("span");
    text.className = "fs-16";
    text.textContent = "あなたは";

    var textType = document.createElement("span");
    textType.className = "fs-20";
    textType.textContent = this.data.text;

    title.prepend(text, textType);

    return title;
  }

  resultPage.prototype.ComponentContent = function () {
    var content = document.createElement("div");
    content.className = "result-content";
    divBtn =  document.createElement("div");
    divBtn.className = "text-center result-button";
    divChangeUI = document.createElement("div");
  
    if (this.data.hasOwnProperty('img') && (this.data.img ||'') !== null) {
      content.appendChild(this.LayoutFisrtImg());
    }
    //console.log( this.data.aptitude.length)
    if (this.data.hasOwnProperty('aptitude') && (this.data.aptitude || '') !== null) {
      var titleAptitude = 'あなたの適性';
      content.appendChild(this.ComponentIsContent(titleAptitude, this.data.aptitude));
    }

    if (this.data.hasOwnProperty('strength') && (this.data.strength || '') !== null ) {
      var titleStrength = 'あなたの強み';
      content.appendChild(this.ComponentIsContent(titleStrength, this.data.strength));
    }

    if (this.data.hasOwnProperty('advice') && (this.data.advice || '') !== null) {
      var titleAdvice = 'ステップアップのアドバイス';
      content.appendChild(this.ComponentIsContent(titleAdvice, this.data.advice));
    }

    
    divChangeUI.className = this.data.type == "CAREER_ANCHOR" ? "anreer-anchor" : "enneagram";
    divChangeUI.appendChild(this.LayoutContentSupport());

    if (this.data.hasOwnProperty('customer_comment') && this.data.customer_comment.length !== 0) {
      divChangeUI.appendChild(this.LayoutCustomerComment(this.data.customer_comment));
    }

    content.appendChild(divChangeUI);

    if(this.data.type == "CAREER_ANCHOR") {
      var divGroupBtn = document.createElement("div");
      divGroupBtn.appendChild(
        this.ComponentLabel({
          isClass: "content-label yellow fs-14",
          text: "あなたにマッチしそうな</br>お仕事を見てみませんか？"
        })
      );
    
      if ((this.data.user_type ||'').toUpperCase() !== "GUEST") {
        var link_job,
          divJobSearch = document.createElement("div");
        switch((this.data.user_type ||'').toUpperCase()) {
          case "STAFF":
            link_job = "https://www.022022.net/sp/?vos=pocket_check01";
            break;
          case "TS":
            link_job = "https://sp.hatarakunavi.net/?vos=pocket_TScheck01";
            break;
          default:
            break;
        }
        divJobSearch.className = "text-center result-button mb-15";
        divJobSearch.appendChild(this.ComponentButton({
            text: "お仕事検索はこちら",
            isClass: "btn--large btn--blue",
            data_link: link_job,
            pressHandler: this.evtToLinkBrowser.bind(this)
          }),
        );
        divGroupBtn.appendChild( divJobSearch);

        var divLoginMyPage = document.createElement("div");
          divLoginMyPage.className = "text-center result-button mb-15";
          divLoginMyPage.prepend(this.ComponentButton({
              text: "マイページにログイン",
              isClass: "btn--large btn--pink",
              data_link: "https://mypage.022022.net/user/sp/sa09020?vos=pocket_check2",
              pressHandler: this.evtToLinkBrowser.bind(this)
            }),
          );
        divGroupBtn.appendChild(divLoginMyPage);
      } else {
        var divLoginService = document.createElement("div");
        divLoginService.className = "text-center result-button mb-15";
        divLoginService.appendChild(
          this.ComponentButton({
            text: "スタッフサービスに派遣登録する",
            isClass: "btn--large btn--blue",
            data_link: "https://www.022022.net/service/sp/sc11040?vos=pocket_check4",
            pressHandler: this.evtToLinkBrowser.bind(this)
          })
        );
        divGroupBtn.appendChild(divLoginService);

        var divJobSearch = document.createElement("div"); 
          divJobSearch.className = "text-center result-button mb-15";
          divJobSearch.appendChild(this.ComponentButton({
              text: "お仕事検索はこちら",
              isClass: "btn--large btn--blue1",
              data_link: "https://www.staffservice.co.jp/?vos=pocket_check3",
              pressHandler: this.evtToLinkBrowser.bind(this)
            }),
          );
        divGroupBtn.appendChild( divJobSearch);
      }
      content.appendChild(divGroupBtn);
    }

    
    content.appendChild(this.ComponentLabel({
      isClass: "content-label fs-14 mb-0 light", 
      text: "＼もう一度診断したい方はこちら！！／"})
    );

    divBtn.appendChild(this.ComponentButton({
      text: "もう一度診断する", 
      isClass: "btn--large btn--primary", 
      pressHandler: this.evtBackStartPage.bind(this)
    }));
    content.appendChild(divBtn);
    return content;
  }

  resultPage.prototype.LayoutFisrtImg = function () {
    var divImg = document.createElement("div");
    divImg.classList = "text-center";

    var img = document.createElement("img");
    img.classList = "result-content__img";
    img.setAttribute("src", this.data.img)

    divImg.appendChild(img);

    return divImg;
  }

  resultPage.prototype.LayoutContentSupport = function () {
    var contentSupport = document.createElement("div");
    
      contentSupport.appendChild(this.ComponentLabel({
        isClass:  "content-label blue",
        text: "あなたのステップアップを</br>＼サポートするコンテンツをチェック！／"
      }));
      console.log(this.isEmptyObject(this.data.top_rc))
      if (this.data.hasOwnProperty("top_rc") && !this.isEmptyObject(this.data.top_rc)) {
        contentSupport.appendChild( this.LayoutItemSupport(this.data.top_rc));
      }
      if (this.data.hasOwnProperty("bottom_rc") && !this.isEmptyObject(this.data.bottom_rc)) {
        contentSupport.appendChild( this.LayoutItemSupport(this.data.bottom_rc));
      }
   
    return contentSupport;
  }

  resultPage.prototype.LayoutItemSupport = function (params) {
    var item = document.createElement("div"),
      item_img = document.createElement("div"),
      img = document.createElement("img"),
      item_btn = document.createElement("div"),
      btn = document.createElement("button"),
      item_content = document.createElement("p");

    item.className = "content-item";
    item_img.className = "text-center mb-15";
    img.setAttribute("doc_id", params.doc_id);
    img.setAttribute("doc_code", params.doc_code);
    img.setAttribute("doc_title", params.doc_title);
    img.setAttribute("doc_type", params.doc_type);
    img.addEventListener("click", this.evtToMaterials.bind(this));
    img.setAttribute("src", params.doc_thumb);
    item_img.appendChild(img);

 
    item_btn.className = "result-button text-center mb-15";
    item_btn.appendChild(btn);
    btn.className = "btn btn--large btn--error";
    btn.textContent = "この教材を見る";
    btn.setAttribute("doc_id", params.doc_id);
    btn.setAttribute("doc_code", params.doc_code);
    btn.setAttribute("doc_title", params.doc_title);
    btn.setAttribute("doc_type", params.doc_type);
    btn.addEventListener("click", this.evtToMaterials.bind(this));

    item_content.innerHTML = params.memo;
    item.prepend(item_img, item_btn, item_content);
    return item;
  }

  resultPage.prototype.LayoutCustomerComment = function (params) {
    var compCustomerComment = document.createElement("div"),
      divCenter = document.createElement("div"),
      compComment = document.createElement("div");
    compCustomerComment.className = "mb-15";
    divCenter.className = "text-center";
    divCenter.appendChild(this.ComponentButton({
      text:'キャリアコンサルティング申し込み', 
      isClass: 'btn--large btn--warning', 
      pressHandler: this.evtBackCounsutingPage.bind(this)
    }));

    for (var item of params) {
      var commentItem = document.createElement("div"),
        commentImage = document.createElement("div"),
        imgItem = document.createElement("img"),
        commentText = document.createElement("div");
      
      commentItem.className = "comment-item";
      commentImage.className = "comment__image";
      imgItem.setAttribute("src", item.img);

      commentText.className = "comment__text";
      commentText.innerHTML = item.text;

      commentImage.appendChild(imgItem);
      commentItem.prepend( commentImage, commentText);
      compComment.appendChild(commentItem);
    }

    compCustomerComment.prepend(
      this.ComponentLabel({
        isClass: "content-label fs-14 mb-0 light",
        text: "もし道に迷ったら</br>キャリアカウンセリングを受講しませんか？"
      }),
      divCenter,
      this.ComponentLabel({
        isClass: "content-label fs-14 mt-15 success", 
        text: "キャリアコンサルティング<br>受講者の声" }),
      compComment);

    return compCustomerComment;
  }

  resultPage.prototype.ComponentButton = function({text, isClass, data_link,  pressHandler}) { 
    data_link = (typeof data_link === 'undefined') ? '' : data_link;
    var button = document.createElement("button");
      button.className = `btn ${isClass}`;
      button.setAttribute("data_link", data_link);
      button.textContent = text;
    button.addEventListener("click", pressHandler);
  
    return button;
  }

  resultPage.prototype.ComponentLabel = function({isClass, text}) {
    var divLabel = document.createElement("div");
    divLabel.className = isClass;
    divLabel.innerHTML = text;

    return divLabel;
  }

  resultPage.prototype.ComponentIsContent = function (title, isContent) { 
    var CompContent= document.createElement("div");
    CompContent.className = "content-item";

    var titleItem = document.createElement("p");
    titleItem.className = "tite-cate";
    titleItem.textContent = title;

    var content = document.createElement("p");
    content.textContent = isContent;

    CompContent.prepend(titleItem, content);

    return CompContent;
  }
  
  resultPage.prototype.isEmptyObject = function(value) {
    return Object.keys(value).length === 0 && value.constructor === Object;
  }

  resultPage.prototype.postMessage = function(fncName, msg){
		msg = JSON.stringify(msg);
		
		if( 'webkit' in window ){
			window.webkit.messageHandlers[fncName].postMessage(msg);
		}else if( 'android' in window ) {
			(window.android || window.Android)[fncName](msg);
		}
	}

  resultPage.prototype.evtBackStartPage = function () {
    this.postMessage('backPage', { "value":"start_diagnose" })
  }

  resultPage.prototype.evtToMaterials = function (e) {
    this.postMessage('toDetails', { "id": e.target.getAttribute("doc_id") })
  }

  resultPage.prototype.evtBackCounsutingPage = function() {
    this.postMessage('backPage', { "value": "booking_counsuting" })
  }

  resultPage.prototype.evtToLinkBrowser = function (e) {
    console.log(e.target.getAttribute("data_link"));
    this.postMessage('toLinkBrowser', { "value": e.target.getAttribute("data_link") })
  }

  var result = new resultPage();
  window.isResult = function(data) {
    var e = null, isSuccess = false;
    try { 
      result.init(data);
      isSuccess = true;
    }catch (error){
      e = error.message;
    }
    result.postMessage('loadFinished', {error: e, "success": isSuccess});
    return isSuccess;
  }
  result.postMessage('javascriptLoaded', {"success": true});

  isResult({"type":"android","version":32,"device_name":"Pixel 3a","data":{"text":"完全主義者タイプ","img":"https://d2p333gdzaltfu.cloudfront.net/diagnostic/enneagram/type_1.png","aptitude":null,"advice":"完璧すぎるともいえるあなたですが、自己肯定感はやや低めという一面があります。それは、\n    高すぎる理想と現実のギャップにより自分に対して自信がもてず、評価基準を周りに求め\n    てしまう傾向があるためです。人に評価してもらいたいという気持ちが強く、行動すること\n    に臆病になってしまうこともあるようです。まずは小さなことから自分を認め、成功体験を\n    積み重ねましょう。心のままに行動することが自己改革となり、大きな成長につながります。","customer_comment":[{"text":"現状をお話ししたところ優しく受け止めていただき、これから目指す方向や自分に必要なことを的確に示してもらえました。（30代/女性）","img":"https://d2p333gdzaltfu.cloudfront.net/diagnostic/ctm_comment/voice_01.png"},{"text":"とてもフレンドリーに話してくださり、ポジティブな気持ちになれました。（60代/女性）","img":"https://d2p333gdzaltfu.cloudfront.net/diagnostic/ctm_comment/voice_02.png"},{"text":"世の中のキャリアコンサルタントにはこちらの相談をきちんと聞かずに一方的に話すような方もいますが、スタッフサービスのコンサルタントは共感し、励まし、解決の糸口を見つけてくれました。（40代/女性）","img":"https://d2p333gdzaltfu.cloudfront.net/diagnostic/ctm_comment/voice_03.png"}],"top_rc":{"doc_id":"139","doc_code":"z3aj3gtvArThn1crxeL","doc_title":"test document 41","doc_type":"YOUTUBE","doc_thumb":"https://test-lac.learningpocket.com/uploads/teacher/8oifKlliMl60p1GDv/c12k1oevsqmla2/mt_87173299_v1_EeHl1hrvg.jpg","memo":"fdsfsdfsdf"},"bottom_rc":{"doc_id":"138","doc_code":"npFo0f4v8rvhr1DIb1f","doc_title":"2023","doc_type":"YOUTUBE","doc_thumb":"https://test-lac.learningpocket.com/uploads/teacher/8oifKlliMl60p1GDv/c12k1oevsqmla2/mt_595915047_v1_FaUr1hrvf.png","memo":"dfsdfdfd"},"type":"CAREER_ANCHOR","result_type":"TYPE1","user_type":"GUEST"}})
})()
  </script>
</body>